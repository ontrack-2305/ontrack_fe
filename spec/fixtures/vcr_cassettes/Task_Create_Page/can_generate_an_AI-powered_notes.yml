---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/api/v1/users/171/tasks?category=&event_date=&frequency=once&mandatory=0&name=Water%20Plants&notes=
    body:
      encoding: UTF-8
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Content-Length:
      - '0'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      X-Request-Id:
      - acea0324-9a10-465e-9388-ffa9ac9ccb01
      X-Runtime:
      - '0.031379'
      Server-Timing:
      - start_processing.action_controller;dur=0.10, process_action.action_controller;dur=1.12
      Content-Length:
      - '18324'
    body:
      encoding: UTF-8
      string: '{"status":500,"error":"Internal Server Error","exception":"#\u003cArgumentError:
        ''once'' is not a valid frequency\u003e","traces":{"Application Trace":[{"exception_object_id":22980,"id":15,"trace":"app/controllers/api/v1/tasks_controller.rb:3:in
        `create''"}],"Framework Trace":[{"exception_object_id":22980,"id":0,"trace":"activerecord
        (7.0.8) lib/active_record/enum.rb:157:in `assert_valid_value''"},{"exception_object_id":22980,"id":1,"trace":"activemodel
        (7.0.8) lib/active_model/attribute.rb:76:in `with_value_from_user''"},{"exception_object_id":22980,"id":2,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_set.rb:55:in `write_from_user''"},{"exception_object_id":22980,"id":3,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_methods/write.rb:42:in `_write_attribute''"},{"exception_object_id":22980,"id":4,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_methods.rb:271:in `frequency=''"},{"exception_object_id":22980,"id":5,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_assignment.rb:49:in `public_send''"},{"exception_object_id":22980,"id":6,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_assignment.rb:49:in `_assign_attribute''"},{"exception_object_id":22980,"id":7,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes''"},{"exception_object_id":22980,"id":8,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_assignment.rb:13:in `each''"},{"exception_object_id":22980,"id":9,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_assignment.rb:13:in `_assign_attributes''"},{"exception_object_id":22980,"id":10,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_assignment.rb:34:in `assign_attributes''"},{"exception_object_id":22980,"id":11,"trace":"activerecord
        (7.0.8) lib/active_record/core.rb:468:in `initialize''"},{"exception_object_id":22980,"id":12,"trace":"activerecord
        (7.0.8) lib/active_record/inheritance.rb:75:in `new''"},{"exception_object_id":22980,"id":13,"trace":"activerecord
        (7.0.8) lib/active_record/inheritance.rb:75:in `new''"},{"exception_object_id":22980,"id":14,"trace":"activerecord
        (7.0.8) lib/active_record/persistence.rb:54:in `create!''"},{"exception_object_id":22980,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":22980,"id":17,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":22980,"id":18,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":22980,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":22980,"id":20,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":22980,"id":21,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":22980,"id":22,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":22980,"id":23,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":22980,"id":24,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":22980,"id":25,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":22980,"id":26,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":22980,"id":27,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":22980,"id":28,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":22980,"id":29,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":22980,"id":30,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":22980,"id":31,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":22980,"id":32,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":22980,"id":33,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":22980,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":22980,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":22980,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":22980,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":22980,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":22980,"id":39,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":22980,"id":40,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:40:in `call''"},{"exception_object_id":22980,"id":41,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":22980,"id":42,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":22980,"id":43,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":22980,"id":44,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":22980,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":22980,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":22980,"id":47,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":22980,"id":48,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":22980,"id":49,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":22980,"id":50,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":22980,"id":51,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":22980,"id":52,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":22980,"id":53,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":22980,"id":54,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":22980,"id":55,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":22980,"id":56,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":22980,"id":57,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":22980,"id":58,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":22980,"id":59,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":22980,"id":60,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":22980,"id":61,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":22980,"id":62,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":22980,"id":63,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":22980,"id":64,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":22980,"id":65,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":22980,"id":66,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":22980,"id":67,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":22980,"id":68,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":22980,"id":69,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":22980,"id":70,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":22980,"id":71,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":22980,"id":72,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":22980,"id":73,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}],"Full Trace":[{"exception_object_id":22980,"id":0,"trace":"activerecord
        (7.0.8) lib/active_record/enum.rb:157:in `assert_valid_value''"},{"exception_object_id":22980,"id":1,"trace":"activemodel
        (7.0.8) lib/active_model/attribute.rb:76:in `with_value_from_user''"},{"exception_object_id":22980,"id":2,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_set.rb:55:in `write_from_user''"},{"exception_object_id":22980,"id":3,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_methods/write.rb:42:in `_write_attribute''"},{"exception_object_id":22980,"id":4,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_methods.rb:271:in `frequency=''"},{"exception_object_id":22980,"id":5,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_assignment.rb:49:in `public_send''"},{"exception_object_id":22980,"id":6,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_assignment.rb:49:in `_assign_attribute''"},{"exception_object_id":22980,"id":7,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_assignment.rb:21:in `block in _assign_attributes''"},{"exception_object_id":22980,"id":8,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_assignment.rb:13:in `each''"},{"exception_object_id":22980,"id":9,"trace":"activerecord
        (7.0.8) lib/active_record/attribute_assignment.rb:13:in `_assign_attributes''"},{"exception_object_id":22980,"id":10,"trace":"activemodel
        (7.0.8) lib/active_model/attribute_assignment.rb:34:in `assign_attributes''"},{"exception_object_id":22980,"id":11,"trace":"activerecord
        (7.0.8) lib/active_record/core.rb:468:in `initialize''"},{"exception_object_id":22980,"id":12,"trace":"activerecord
        (7.0.8) lib/active_record/inheritance.rb:75:in `new''"},{"exception_object_id":22980,"id":13,"trace":"activerecord
        (7.0.8) lib/active_record/inheritance.rb:75:in `new''"},{"exception_object_id":22980,"id":14,"trace":"activerecord
        (7.0.8) lib/active_record/persistence.rb:54:in `create!''"},{"exception_object_id":22980,"id":15,"trace":"app/controllers/api/v1/tasks_controller.rb:3:in
        `create''"},{"exception_object_id":22980,"id":16,"trace":"actionpack (7.0.8)
        lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":22980,"id":17,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":22980,"id":18,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":22980,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":22980,"id":20,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":22980,"id":21,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":22980,"id":22,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":22980,"id":23,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":22980,"id":24,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":22980,"id":25,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":22980,"id":26,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":22980,"id":27,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":22980,"id":28,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":22980,"id":29,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":22980,"id":30,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":22980,"id":31,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":22980,"id":32,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":22980,"id":33,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":22980,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":22980,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":22980,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":22980,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":22980,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":22980,"id":39,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":22980,"id":40,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:40:in `call''"},{"exception_object_id":22980,"id":41,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":22980,"id":42,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":22980,"id":43,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":22980,"id":44,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":22980,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":22980,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":22980,"id":47,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":22980,"id":48,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":22980,"id":49,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":22980,"id":50,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":22980,"id":51,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":22980,"id":52,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":22980,"id":53,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":22980,"id":54,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":22980,"id":55,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":22980,"id":56,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":22980,"id":57,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":22980,"id":58,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":22980,"id":59,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":22980,"id":60,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":22980,"id":61,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":22980,"id":62,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":22980,"id":63,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":22980,"id":64,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":22980,"id":65,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":22980,"id":66,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":22980,"id":67,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":22980,"id":68,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":22980,"id":69,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":22980,"id":70,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":22980,"id":71,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":22980,"id":72,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":22980,"id":73,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}]}}'
  recorded_at: Sat, 16 Sep 2023 04:09:01 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=Water%20Plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      X-Request-Id:
      - b77a3a2b-1d0d-426c-abd3-4a8524599c87
      X-Runtime:
      - '0.074989'
      Server-Timing:
      - start_processing.action_controller;dur=0.12, process_action.action_controller;dur=8.77
      Content-Length:
      - '15293'
    body:
      encoding: UTF-8
      string: '{"status":500,"error":"Internal Server Error","exception":"#\u003cNoMethodError:
        undefined method `[]'' for nil:NilClass\u003e","traces":{"Application Trace":[{"exception_object_id":23060,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23060,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23060,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23060,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23060,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"}],"Framework Trace":[{"exception_object_id":23060,"id":5,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23060,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23060,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23060,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23060,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23060,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23060,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23060,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23060,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23060,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23060,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23060,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23060,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23060,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23060,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23060,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23060,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23060,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23060,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23060,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23060,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23060,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23060,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23060,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23060,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23060,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23060,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23060,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23060,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23060,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23060,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23060,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23060,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23060,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23060,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23060,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23060,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23060,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23060,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23060,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23060,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23060,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23060,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23060,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23060,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23060,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23060,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23060,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23060,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23060,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23060,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23060,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23060,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23060,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23060,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23060,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23060,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23060,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}],"Full Trace":[{"exception_object_id":23060,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23060,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23060,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23060,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23060,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"},{"exception_object_id":23060,"id":5,"trace":"actionpack (7.0.8)
        lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23060,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23060,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23060,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23060,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23060,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23060,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23060,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23060,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23060,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23060,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23060,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23060,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23060,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23060,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23060,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23060,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23060,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23060,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23060,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23060,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23060,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23060,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23060,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23060,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23060,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23060,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23060,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23060,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23060,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23060,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23060,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23060,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23060,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23060,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23060,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23060,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23060,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23060,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23060,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23060,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23060,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23060,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23060,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23060,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23060,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23060,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23060,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23060,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23060,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23060,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23060,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23060,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23060,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23060,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23060,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23060,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23060,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}]}}'
  recorded_at: Sat, 16 Sep 2023 04:29:54 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=laundry
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      X-Request-Id:
      - 25b5e8b8-ce83-4096-8474-cd0792e70af5
      X-Runtime:
      - '0.088608'
      Server-Timing:
      - start_processing.action_controller;dur=0.11, process_action.action_controller;dur=2.07
      Content-Length:
      - '15293'
    body:
      encoding: UTF-8
      string: '{"status":500,"error":"Internal Server Error","exception":"#\u003cNoMethodError:
        undefined method `[]'' for nil:NilClass\u003e","traces":{"Application Trace":[{"exception_object_id":23120,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23120,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23120,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23120,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23120,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"}],"Framework Trace":[{"exception_object_id":23120,"id":5,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23120,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23120,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23120,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23120,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23120,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23120,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23120,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23120,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23120,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23120,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23120,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23120,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23120,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23120,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23120,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23120,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23120,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23120,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23120,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23120,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23120,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23120,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23120,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23120,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23120,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23120,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23120,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23120,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23120,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23120,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23120,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23120,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23120,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23120,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23120,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23120,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23120,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23120,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23120,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23120,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23120,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23120,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23120,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23120,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23120,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23120,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23120,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23120,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23120,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23120,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23120,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23120,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23120,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23120,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23120,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23120,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23120,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}],"Full Trace":[{"exception_object_id":23120,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23120,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23120,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23120,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23120,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"},{"exception_object_id":23120,"id":5,"trace":"actionpack (7.0.8)
        lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23120,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23120,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23120,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23120,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23120,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23120,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23120,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23120,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23120,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23120,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23120,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23120,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23120,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23120,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23120,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23120,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23120,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23120,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23120,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23120,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23120,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23120,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23120,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23120,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23120,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23120,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23120,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23120,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23120,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23120,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23120,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23120,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23120,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23120,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23120,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23120,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23120,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23120,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23120,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23120,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23120,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23120,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23120,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23120,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23120,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23120,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23120,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23120,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23120,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23120,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23120,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23120,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23120,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23120,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23120,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23120,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23120,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}]}}'
  recorded_at: Sat, 16 Sep 2023 04:31:33 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 8b626bbd-4646-4a95-b814-175f753271ba
      X-Runtime:
      - '0.022073'
      Server-Timing:
      - start_processing.action_controller;dur=0.19, process_action.action_controller;dur=6.63
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"errors":[{"status":"400","title":"No task provided to breakdown"}]}'
  recorded_at: Sat, 16 Sep 2023 04:32:33 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?params%5Btask%5D=Water%20Plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 34ea349b-b74b-4b02-b83b-c7a4abb9dd7e
      X-Runtime:
      - '0.015256'
      Server-Timing:
      - start_processing.action_controller;dur=0.11, process_action.action_controller;dur=0.98
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"errors":[{"status":"400","title":"No task provided to breakdown"}]}'
  recorded_at: Sat, 16 Sep 2023 04:35:23 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=Water%20Plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      X-Request-Id:
      - 33f16c25-fb2a-4619-9c48-49a8e66e8a6e
      X-Runtime:
      - '0.034843'
      Server-Timing:
      - start_processing.action_controller;dur=0.10, process_action.action_controller;dur=1.38
      Content-Length:
      - '15293'
    body:
      encoding: UTF-8
      string: '{"status":500,"error":"Internal Server Error","exception":"#\u003cNoMethodError:
        undefined method `[]'' for nil:NilClass\u003e","traces":{"Application Trace":[{"exception_object_id":23260,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23260,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23260,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23260,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23260,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"}],"Framework Trace":[{"exception_object_id":23260,"id":5,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23260,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23260,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23260,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23260,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23260,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23260,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23260,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23260,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23260,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23260,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23260,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23260,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23260,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23260,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23260,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23260,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23260,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23260,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23260,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23260,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23260,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23260,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23260,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23260,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23260,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23260,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23260,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23260,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23260,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23260,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23260,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23260,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23260,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23260,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23260,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23260,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23260,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23260,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23260,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23260,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23260,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23260,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23260,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23260,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23260,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23260,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23260,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23260,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23260,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23260,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23260,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23260,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23260,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23260,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23260,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23260,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23260,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}],"Full Trace":[{"exception_object_id":23260,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23260,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23260,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23260,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23260,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"},{"exception_object_id":23260,"id":5,"trace":"actionpack (7.0.8)
        lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23260,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23260,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23260,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23260,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23260,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23260,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23260,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23260,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23260,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23260,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23260,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23260,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23260,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23260,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23260,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23260,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23260,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23260,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23260,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23260,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23260,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23260,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23260,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23260,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23260,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23260,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23260,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23260,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23260,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23260,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23260,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23260,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23260,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23260,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23260,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23260,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23260,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23260,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23260,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23260,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23260,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23260,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23260,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23260,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23260,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23260,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23260,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23260,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23260,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23260,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23260,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23260,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23260,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23260,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23260,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23260,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23260,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}]}}'
  recorded_at: Sat, 16 Sep 2023 04:37:24 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=Water%20Plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      X-Request-Id:
      - 4de68612-a93f-46ac-9e4e-e6c4d2346647
      X-Runtime:
      - '0.024243'
      Server-Timing:
      - start_processing.action_controller;dur=0.08, process_action.action_controller;dur=0.25
      Content-Length:
      - '15293'
    body:
      encoding: UTF-8
      string: '{"status":500,"error":"Internal Server Error","exception":"#\u003cNoMethodError:
        undefined method `[]'' for nil:NilClass\u003e","traces":{"Application Trace":[{"exception_object_id":23320,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23320,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23320,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23320,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23320,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"}],"Framework Trace":[{"exception_object_id":23320,"id":5,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23320,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23320,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23320,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23320,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23320,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23320,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23320,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23320,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23320,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23320,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23320,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23320,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23320,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23320,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23320,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23320,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23320,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23320,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23320,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23320,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23320,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23320,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23320,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23320,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23320,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23320,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23320,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23320,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23320,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23320,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23320,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23320,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23320,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23320,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23320,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23320,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23320,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23320,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23320,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23320,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23320,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23320,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23320,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23320,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23320,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23320,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23320,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23320,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23320,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23320,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23320,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23320,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23320,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23320,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23320,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23320,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23320,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}],"Full Trace":[{"exception_object_id":23320,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23320,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23320,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23320,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23320,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"},{"exception_object_id":23320,"id":5,"trace":"actionpack (7.0.8)
        lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23320,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23320,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23320,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23320,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23320,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23320,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23320,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23320,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23320,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23320,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23320,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23320,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23320,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23320,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23320,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23320,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23320,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23320,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23320,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23320,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23320,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23320,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23320,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23320,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23320,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23320,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23320,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23320,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23320,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23320,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23320,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23320,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23320,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23320,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23320,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23320,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23320,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23320,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23320,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23320,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23320,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23320,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23320,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23320,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23320,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23320,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23320,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23320,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23320,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23320,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23320,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23320,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23320,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23320,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23320,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23320,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23320,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}]}}'
  recorded_at: Sat, 16 Sep 2023 04:37:35 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=Water%20Plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      X-Request-Id:
      - c247e61a-c6d7-4b66-943b-2e38d7a6ccd1
      X-Runtime:
      - '0.022443'
      Server-Timing:
      - start_processing.action_controller;dur=0.13, process_action.action_controller;dur=1.21
      Content-Length:
      - '15293'
    body:
      encoding: UTF-8
      string: '{"status":500,"error":"Internal Server Error","exception":"#\u003cNoMethodError:
        undefined method `[]'' for nil:NilClass\u003e","traces":{"Application Trace":[{"exception_object_id":23380,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23380,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23380,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23380,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23380,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"}],"Framework Trace":[{"exception_object_id":23380,"id":5,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23380,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23380,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23380,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23380,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23380,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23380,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23380,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23380,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23380,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23380,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23380,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23380,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23380,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23380,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23380,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23380,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23380,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23380,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23380,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23380,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23380,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23380,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23380,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23380,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23380,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23380,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23380,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23380,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23380,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23380,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23380,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23380,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23380,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23380,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23380,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23380,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23380,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23380,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23380,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23380,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23380,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23380,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23380,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23380,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23380,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23380,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23380,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23380,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23380,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23380,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23380,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23380,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23380,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23380,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23380,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23380,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23380,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}],"Full Trace":[{"exception_object_id":23380,"id":0,"trace":"app/services/ai_service.rb:10:in
        `conn''"},{"exception_object_id":23380,"id":1,"trace":"app/services/ai_service.rb:3:in
        `get_url''"},{"exception_object_id":23380,"id":2,"trace":"app/services/ai_service.rb:35:in
        `fetch_gpt_response''"},{"exception_object_id":23380,"id":3,"trace":"app/facades/ai_response_facade.rb:4:in
        `fetch_gpt_response''"},{"exception_object_id":23380,"id":4,"trace":"app/controllers/api/v1/breakdowns_controller.rb:8:in
        `show''"},{"exception_object_id":23380,"id":5,"trace":"actionpack (7.0.8)
        lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action''"},{"exception_object_id":23380,"id":6,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:215:in `process_action''"},{"exception_object_id":23380,"id":7,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rendering.rb:165:in `process_action''"},{"exception_object_id":23380,"id":8,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:234:in `block in process_action''"},{"exception_object_id":23380,"id":9,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23380,"id":10,"trace":"actionpack
        (7.0.8) lib/abstract_controller/callbacks.rb:233:in `process_action''"},{"exception_object_id":23380,"id":11,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/rescue.rb:23:in `process_action''"},{"exception_object_id":23380,"id":12,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:67:in `block in process_action''"},{"exception_object_id":23380,"id":13,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `block in instrument''"},{"exception_object_id":23380,"id":14,"trace":"activesupport
        (7.0.8) lib/active_support/notifications/instrumenter.rb:24:in `instrument''"},{"exception_object_id":23380,"id":15,"trace":"activesupport
        (7.0.8) lib/active_support/notifications.rb:206:in `instrument''"},{"exception_object_id":23380,"id":16,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/instrumentation.rb:66:in `process_action''"},{"exception_object_id":23380,"id":17,"trace":"actionpack
        (7.0.8) lib/action_controller/metal/params_wrapper.rb:259:in `process_action''"},{"exception_object_id":23380,"id":18,"trace":"activerecord
        (7.0.8) lib/active_record/railties/controller_runtime.rb:27:in `process_action''"},{"exception_object_id":23380,"id":19,"trace":"actionpack
        (7.0.8) lib/abstract_controller/base.rb:151:in `process''"},{"exception_object_id":23380,"id":20,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:188:in `dispatch''"},{"exception_object_id":23380,"id":21,"trace":"actionpack
        (7.0.8) lib/action_controller/metal.rb:251:in `dispatch''"},{"exception_object_id":23380,"id":22,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:49:in `dispatch''"},{"exception_object_id":23380,"id":23,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:32:in `serve''"},{"exception_object_id":23380,"id":24,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:50:in `block in serve''"},{"exception_object_id":23380,"id":25,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `each''"},{"exception_object_id":23380,"id":26,"trace":"actionpack
        (7.0.8) lib/action_dispatch/journey/router.rb:32:in `serve''"},{"exception_object_id":23380,"id":27,"trace":"actionpack
        (7.0.8) lib/action_dispatch/routing/route_set.rb:852:in `call''"},{"exception_object_id":23380,"id":28,"trace":"rack
        (2.2.8) lib/rack/etag.rb:27:in `call''"},{"exception_object_id":23380,"id":29,"trace":"rack
        (2.2.8) lib/rack/conditional_get.rb:27:in `call''"},{"exception_object_id":23380,"id":30,"trace":"rack
        (2.2.8) lib/rack/head.rb:12:in `call''"},{"exception_object_id":23380,"id":31,"trace":"activerecord
        (7.0.8) lib/active_record/migration.rb:638:in `call''"},{"exception_object_id":23380,"id":32,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call''"},{"exception_object_id":23380,"id":33,"trace":"activesupport
        (7.0.8) lib/active_support/callbacks.rb:99:in `run_callbacks''"},{"exception_object_id":23380,"id":34,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/callbacks.rb:26:in `call''"},{"exception_object_id":23380,"id":35,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23380,"id":36,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call''"},{"exception_object_id":23380,"id":37,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call''"},{"exception_object_id":23380,"id":38,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/show_exceptions.rb:29:in `call''"},{"exception_object_id":23380,"id":39,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:40:in `call_app''"},{"exception_object_id":23380,"id":40,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `block in call''"},{"exception_object_id":23380,"id":41,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `block in tagged''"},{"exception_object_id":23380,"id":42,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:37:in `tagged''"},{"exception_object_id":23380,"id":43,"trace":"activesupport
        (7.0.8) lib/active_support/tagged_logging.rb:99:in `tagged''"},{"exception_object_id":23380,"id":44,"trace":"railties
        (7.0.8) lib/rails/rack/logger.rb:25:in `call''"},{"exception_object_id":23380,"id":45,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/remote_ip.rb:93:in `call''"},{"exception_object_id":23380,"id":46,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/request_id.rb:26:in `call''"},{"exception_object_id":23380,"id":47,"trace":"rack
        (2.2.8) lib/rack/runtime.rb:22:in `call''"},{"exception_object_id":23380,"id":48,"trace":"activesupport
        (7.0.8) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in
        `call''"},{"exception_object_id":23380,"id":49,"trace":"actionpack (7.0.8)
        lib/action_dispatch/middleware/server_timing.rb:61:in `block in call''"},{"exception_object_id":23380,"id":50,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events''"},{"exception_object_id":23380,"id":51,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/server_timing.rb:60:in `call''"},{"exception_object_id":23380,"id":52,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/executor.rb:14:in `call''"},{"exception_object_id":23380,"id":53,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/static.rb:23:in `call''"},{"exception_object_id":23380,"id":54,"trace":"rack
        (2.2.8) lib/rack/sendfile.rb:110:in `call''"},{"exception_object_id":23380,"id":55,"trace":"actionpack
        (7.0.8) lib/action_dispatch/middleware/host_authorization.rb:138:in `call''"},{"exception_object_id":23380,"id":56,"trace":"railties
        (7.0.8) lib/rails/engine.rb:530:in `call''"},{"exception_object_id":23380,"id":57,"trace":"puma
        (5.6.7) lib/puma/configuration.rb:252:in `call''"},{"exception_object_id":23380,"id":58,"trace":"puma
        (5.6.7) lib/puma/request.rb:77:in `block in handle_request''"},{"exception_object_id":23380,"id":59,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:340:in `with_force_shutdown''"},{"exception_object_id":23380,"id":60,"trace":"puma
        (5.6.7) lib/puma/request.rb:76:in `handle_request''"},{"exception_object_id":23380,"id":61,"trace":"puma
        (5.6.7) lib/puma/server.rb:443:in `process_client''"},{"exception_object_id":23380,"id":62,"trace":"puma
        (5.6.7) lib/puma/thread_pool.rb:147:in `block in spawn_thread''"}]}}'
  recorded_at: Sat, 16 Sep 2023 04:37:56 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?params%5Btask%5D=Water%20Plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 3b910e9d-643e-46ec-bf67-f2d2ad37c5a7
      X-Runtime:
      - '0.010512'
      Server-Timing:
      - start_processing.action_controller;dur=0.08, process_action.action_controller;dur=0.42
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"errors":[{"status":"400","title":"No task provided to breakdown"}]}'
  recorded_at: Sat, 16 Sep 2023 04:38:12 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?params%5Btask%5D=do%20my%20laundry
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Cache-Control:
      - no-cache
      X-Request-Id:
      - 96abd723-e541-44a7-86c8-516744b2fe64
      X-Runtime:
      - '0.012186'
      Server-Timing:
      - start_processing.action_controller;dur=0.11, process_action.action_controller;dur=0.92
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"errors":[{"status":"400","title":"No task provided to breakdown"}]}'
  recorded_at: Sat, 16 Sep 2023 04:38:51 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=water%20plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"0b7aa66c88f72fe2b65338fa351b2d45"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 48b22d17-6cc8-49ed-a4f5-1f98d6455eb4
      X-Runtime:
      - '1.643935'
      Server-Timing:
      - start_processing.action_controller;dur=0.11, process_action.action_controller;dur=1626.52
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"response":[{"text":"1. Gather necessary supplies. 2. Check moisture
        levels of soil. 3. Water plants accordingly. 4. Drain excess water. 5. Clean
        up any spills or mess."}]}'
  recorded_at: Sat, 16 Sep 2023 05:01:09 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=water%20plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"3f4b0b7f4907479b2c1d3598905f9e16"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 845efd08-e427-4298-9f6e-378feb63631d
      X-Runtime:
      - '2.132437'
      Server-Timing:
      - start_processing.action_controller;dur=0.11, process_action.action_controller;dur=2119.70
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"response":[{"text":"1. Gather watering can and necessary gardening
        tools. 2. Select the plants that need watering. 3. Fill the watering can with
        water. 4. Water each plant thoroughly. 5. Clean up any spills and put away
        tools."}]}'
  recorded_at: Sat, 16 Sep 2023 05:05:31 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=water%20plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"2556f73acaa9ca87c455bb7aeccdafba"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 87a52f0b-6ef9-49ee-8641-44586312f1c9
      X-Runtime:
      - '2.367073'
      Server-Timing:
      - start_processing.action_controller;dur=0.41, process_action.action_controller;dur=2348.31
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"response":[{"text":"1. Gather necessary materials: watering can,
        plants, and water source. 2. Check the soil moisture of each plant. 3. Water
        the plants with appropriate amount of water. 4. Drain excess water from the
        pots. 5. Clean up and store the materials."}]}'
  recorded_at: Sat, 16 Sep 2023 05:09:41 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/chat_service?task=water%20plants
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"3c59b706800016a6a383653dc7c845e2"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - da9251c4-5ad5-42dc-9fa6-852390a09634
      X-Runtime:
      - '1.941607'
      Server-Timing:
      - start_processing.action_controller;dur=0.12, process_action.action_controller;dur=1932.48
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"response":[{"text":"1. Get a watering can. 2. Fill it with water.
        3. Take plants to be watered. 4. Pour water from the can onto the plants.
        5. Repeat for all plants."}]}'
  recorded_at: Sat, 16 Sep 2023 05:10:02 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/users/558/tasks
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"8fe32e407a1038ee38753b70e5374b3a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 4cf8f792-df4e-45c1-b791-76d09282f33d
      X-Runtime:
      - '0.005056'
      Server-Timing:
      - start_processing.action_controller;dur=0.05, sql.active_record;dur=0.45, process_action.action_controller;dur=0.95
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"data":[]}'
  recorded_at: Sat, 16 Sep 2023 16:42:20 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/users/568/tasks
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"8fe32e407a1038ee38753b70e5374b3a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 7e5af9b8-9e7f-47a0-af45-c235e3ade1e2
      X-Runtime:
      - '0.005068'
      Server-Timing:
      - start_processing.action_controller;dur=0.05, sql.active_record;dur=0.42, process_action.action_controller;dur=0.92
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"data":[]}'
  recorded_at: Sat, 16 Sep 2023 16:44:42 GMT
- request:
    method: get
    uri: http://localhost:3000/api/v1/users/578/tasks
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.7.11
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - '0'
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Permitted-Cross-Domain-Policies:
      - none
      Referrer-Policy:
      - strict-origin-when-cross-origin
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Accept
      Etag:
      - W/"8fe32e407a1038ee38753b70e5374b3a"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f5f6b5c7-b986-41d0-8c60-652af43ce587
      X-Runtime:
      - '0.005255'
      Server-Timing:
      - start_processing.action_controller;dur=0.04, sql.active_record;dur=0.59, process_action.action_controller;dur=1.13
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"data":[]}'
  recorded_at: Sat, 16 Sep 2023 16:45:04 GMT
recorded_with: VCR 6.2.0
